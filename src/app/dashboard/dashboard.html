<div class="flex bg-background-light text-[#1e293b] antialiased">
   <!-- Sidebar -->
   <aside class="w-64 bg-white border-r border-gray-200 flex flex-col hidden lg:flex">
      <div class="p-6 flex items-center gap-3">
         <div class="size-8 bg-primary rounded-lg flex items-center justify-center text-white">
            <span class="material-symbols-outlined text-xl">home_work</span>
         </div>
         <span class="font-extrabold text-xl tracking-tight">{{ AppName}}</span>
      </div>
      <nav class="flex-1 mt-4 px-3 space-y-1">
         <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors" href="#"
            [routerLink]="['/dashboard/home']" routerLinkActive="active-nav-item rounded-r-none">
            <span class="material-symbols-outlined"
               routerLinkActive="font-variation-settings: 'FILL' 0;">dashboard</span>
            <span class="font-semibold text-sm">Dashboard</span>
         </a>
         <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors" href="#"
            [routerLink]="['/dashboard/residents']" routerLinkActive="active-nav-item rounded-r-none">
            <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">group</span>
            <span class="font-semibold text-sm">Residents</span>
         </a>
         <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors" href="#"
            [routerLink]="['/dashboard/houses']" routerLinkActive="active-nav-item rounded-r-none">
            <span class="material-symbols-outlined"
               routerLinkActive="font-variation-settings : 'FILL' 1;">apartment</span>
            <span class="font-semibold text-sm">Houses</span>
         </a>
         <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors" href="#"
            [routerLink]="['/dashboard/payments']" routerLinkActive="active-nav-item rounded-r-none">
            <span class="material-symbols-outlined"
               routerLinkActive="font-variation-settings : 'FILL' 1;">payments</span>
            <span class="font-semibold text-sm">Payments</span>
         </a>
         <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors" href="#"
            [routerLink]="['/dashboard/incidents']" routerLinkActive="active-nav-item rounded-r-none">
            <span class="material-symbols-outlined"
               routerLinkActive="font-variation-settings : 'FILL' 1;">report_problem</span>
            <span class="font-semibold text-sm">Incidents</span>
         </a>
         <a class="flex items-center gap-3 px-4 py-3 rounded-lg transition-colors" href="#"
            [routerLink]="['/dashboard/settings']" routerLinkActive="active-nav-item rounded-r-none">
            <span class="material-symbols-outlined"
               routerLinkActive="font-variation-settings : 'FILL' 1;">settings</span>
            <span class="font-semibold text-sm">Settings</span>
         </a>
      </nav>
      <div class="p-4 border-t border-gray-100">
         <div class="flex items-center gap-3 p-2">
            <div class="size-10 rounded-full bg-cover bg-center"
               style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuB7f1Lmut26mdhV8JQA1E84RO8uhquZzS2herE7-C__sDUDs6sGEObbprf1kmDZX9wwuqwK_FBXJjfwPXRikvrlzQgGxgSltVgn7c_GN6m3eXMKcnWL2cSuLvHA4qiiJICadZtUv5vHqXv9Z6W2vPPLJzeXE5czJht8ef1n62o0J3uDDdvfI0sG_mhNIWfQyNL6zw-ksxBBMkbjG-VWm98kqC3IA8zNczapj6sAJuAN9U2AktcW1EeUyD5kT48-UKhAxV-UdRgvqtkf");'>
            </div>
            <div class="flex-1 min-w-0">
               <p class="text-sm font-bold truncate">Alex Morgan</p>
               <p class="text-xs text-gray-500 truncate">Admin Manager</p>
            </div>
         </div>
      </div>
   </aside>
   <main class="flex-1 flex flex-col h-screen overflow-y-auto bg-[#f8fafc]">
      <router-outlet></router-outlet>
   </main>
   <!-- Mobile 'More' Menu Overlay -->
   <div *ngIf="showMobileMenu"
      class="lg:hidden fixed bottom-24 right-4 bg-white rounded-xl shadow-2xl border border-gray-100 p-2 min-w-[200px] z-50 flex flex-col gap-1 animate-in slide-in-from-bottom-2 fade-in duration-200">
      <a [routerLink]="['/dashboard/payments']" (click)="showMobileMenu = false"
         routerLinkActive="bg-primary/10 text-primary"
         class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
         <span class="material-symbols-outlined text-xl"
            routerLinkActive="font-variation-settings: 'FILL' 1;">payments</span>
         <span class="font-medium text-sm">Payments</span>
      </a>
      <a [routerLink]="['/dashboard/incidents']" (click)="showMobileMenu = false"
         routerLinkActive="bg-primary/10 text-primary"
         class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
         <span class="material-symbols-outlined text-xl"
            routerLinkActive="font-variation-settings: 'FILL' 1;">report_problem</span>
         <span class="font-medium text-sm">Incidents</span>
      </a>
      <a [routerLink]="['/dashboard/settings']" (click)="showMobileMenu = false"
         routerLinkActive="bg-primary/10 text-primary"
         class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
         <span class="material-symbols-outlined text-xl"
            routerLinkActive="font-variation-settings: 'FILL' 1;">settings</span>
         <span class="font-medium text-sm">Settings</span>
      </a>
   </div>

   <nav
      class="lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 flex justify-around p-2 pb-6 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
      <a [routerLink]="['/dashboard/home']" routerLinkActive="text-primary"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">dashboard</span>
         <span class="text-[10px] font-bold">Home</span>
      </a>

      <a [routerLink]="['/dashboard/residents']" routerLinkActive="text-primary"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">group</span>
         <span class="text-[10px] font-bold">Residents</span>
      </a>

      <a [routerLink]="['/dashboard/houses']" routerLinkActive="text-primary"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">apartment</span>
         <span class="text-[10px] font-bold">Houses</span>
      </a>

      <button (click)="toggleMobileMenu()" [class.text-primary]="showMobileMenu"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" [style.font-variation-settings]="showMobileMenu ? '\'FILL\' 1' : ''">
            {{ showMobileMenu ? 'apps' : 'more_horiz' }}
         </span>
         <span class="text-[10px] font-bold">More</span>
      </button>
   </nav>
</div>