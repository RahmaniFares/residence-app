<div class="flex bg-background-light text-[#1e293b] antialiased">
   <!-- Sidebar -->
   <!-- Sidebar -->
   <app-sidebar class="hidden lg:flex w-64 border-r border-gray-200 flex-col bg-white"></app-sidebar>
   <main class="flex-1 flex flex-col h-screen overflow-y-auto bg-[#f8fafc]">
      <router-outlet></router-outlet>
   </main>
   <!-- Mobile 'More' Menu Overlay -->
   <div *ngIf="showMobileMenu"
      class="lg:hidden fixed bottom-24 right-4 bg-white rounded-xl shadow-2xl border border-gray-100 p-2 min-w-[200px] z-50 flex flex-col gap-1 animate-in slide-in-from-bottom-2 fade-in duration-200">
      <a [routerLink]="['/dashboard/payments']" (click)="showMobileMenu = false"
         routerLinkActive="bg-primary/10 text-primary"
         class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
         <span class="material-symbols-outlined text-xl"
            routerLinkActive="font-variation-settings: 'FILL' 1;">payments</span>
         <span class="font-medium text-sm">Payments</span>
      </a>
      <a [routerLink]="['/dashboard/incidents']" (click)="showMobileMenu = false"
         routerLinkActive="bg-primary/10 text-primary"
         class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
         <span class="material-symbols-outlined text-xl"
            routerLinkActive="font-variation-settings: 'FILL' 1;">report_problem</span>
         <span class="font-medium text-sm">Incidents</span>
      </a>
      <a [routerLink]="['/dashboard/settings']" (click)="showMobileMenu = false"
         routerLinkActive="bg-primary/10 text-primary"
         class="flex items-center gap-3 px-4 py-3 rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
         <span class="material-symbols-outlined text-xl"
            routerLinkActive="font-variation-settings: 'FILL' 1;">settings</span>
         <span class="font-medium text-sm">Settings</span>
      </a>
   </div>

   <nav
      class="lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 flex justify-around p-2 pb-6 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
      <a [routerLink]="['/dashboard/home']" routerLinkActive="text-primary"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">dashboard</span>
         <span class="text-[10px] font-bold">Home</span>
      </a>

      <a [routerLink]="['/dashboard/residents']" routerLinkActive="text-primary"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">group</span>
         <span class="text-[10px] font-bold">Residents</span>
      </a>

      <a [routerLink]="['/dashboard/houses']" routerLinkActive="text-primary"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" routerLinkActive="font-variation-settings: 'FILL' 1;">apartment</span>
         <span class="text-[10px] font-bold">Houses</span>
      </a>

      <button (click)="toggleMobileMenu()" [class.text-primary]="showMobileMenu"
         class="flex flex-col items-center gap-1 p-2 text-gray-400 transition-colors w-16">
         <span class="material-symbols-outlined" [style.font-variation-settings]="showMobileMenu ? '\'FILL\' 1' : ''">
            {{ showMobileMenu ? 'apps' : 'more_horiz' }}
         </span>
         <span class="text-[10px] font-bold">More</span>
      </button>
   </nav>
</div>